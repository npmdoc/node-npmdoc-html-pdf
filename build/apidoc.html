<div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a

        href="https://github.com/marcbachmann/node-html-pdf"

    >html-pdf (v2.1.0)</a>
</h1>
<h4>HTML to PDF converter that uses phantomjs</h4>
<div class="apidocSectionDiv"><a
    href="#apidoc.tableOfContents"
    id="apidoc.tableOfContents"
><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.html-pdf">module html-pdf</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.html-pdf.create">
            function <span class="apidocSignatureSpan">html-pdf.</span>create
            <span class="apidocSignatureSpan">(html, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.html-pdf.pdf">
            function <span class="apidocSignatureSpan">html-pdf.</span>pdf
            <span class="apidocSignatureSpan">(html, options)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">html-pdf.</span>pdf.prototype</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.html-pdf.pdf">module html-pdf.pdf</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.html-pdf.pdf.pdf">
            function <span class="apidocSignatureSpan">html-pdf.</span>pdf
            <span class="apidocSignatureSpan">(html, options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.html-pdf.pdf.prototype">module html-pdf.pdf.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.html-pdf.pdf.prototype.exec">
            function <span class="apidocSignatureSpan">html-pdf.pdf.prototype.</span>exec
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.html-pdf.pdf.prototype.toBuffer">
            function <span class="apidocSignatureSpan">html-pdf.pdf.prototype.</span>toBuffer
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.html-pdf.pdf.prototype.toFile">
            function <span class="apidocSignatureSpan">html-pdf.pdf.prototype.</span>toFile
            <span class="apidocSignatureSpan">(filename, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.html-pdf.pdf.prototype.toStream">
            function <span class="apidocSignatureSpan">html-pdf.pdf.prototype.</span>toStream
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.html-pdf" id="apidoc.module.html-pdf">module html-pdf</a></h1>


    <h2>
        <a href="#apidoc.element.html-pdf.create" id="apidoc.element.html-pdf.create">
        function <span class="apidocSignatureSpan">html-pdf.</span>create
        <span class="apidocSignatureSpan">(html, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function createPdf(html, options, callback) {
  if (arguments.length === 1) {
    return new PDF(html)
  }

  if (arguments.length === 2 &#x26;&#x26; typeof options !== &#x27;function&#x27;) {
    return new PDF(html, options)
  }

  if (arguments.length === 2) {
    callback = options
    options = {}
  }

  try {
    var pdf = new PDF(html, options)
  } catch (err) {
    return callback(err)
  }

  pdf.exec(callback)
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
## Code example
```javascript
var fs = require(&#x27;fs&#x27;);
var pdf = require(&#x27;html-pdf&#x27;);
var html = fs.readFileSync(&#x27;./test/businesscard.html&#x27;, &#x27;utf8&#x27;);
var options = { format: &#x27;Letter&#x27; };

pdf.<span class="apidocCodeKeywordSpan">create</span>(html, options).toFile(&#x27;./businesscard.pdf&#x27;, function(err, res) {
  if (err) return console.log(err);
  console.log(res); // { filename: &#x27;/app/businesscard.pdf&#x27; }
});
```

## API
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.html-pdf.pdf" id="apidoc.element.html-pdf.pdf">
        function <span class="apidocSignatureSpan">html-pdf.</span>pdf
        <span class="apidocSignatureSpan">(html, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function PDF(html, options) {
  this.html = html
  this.options = options || {}
  if (this.options.script) {
    this.script = path.normalize(this.options.script)
  } else {
    this.script = path.join(__dirname, &#x27;scripts&#x27;, &#x27;pdf_a4_portrait.js&#x27;)
  }

  if (this.options.filename) this.options.filename = path.resolve(this.options.filename)
  if (!this.options.phantomPath) this.options.phantomPath = phantomjs &#x26;&#x26; phantomjs.path
  this.options.phantomArgs = this.options.phantomArgs || []
  assert(this.options.phantomPath, &#x22;html-pdf: Failed to load PhantomJS module. You have to set the path to the PhantomJS binary
using &#x27;options.phantomPath&#x27;&#x22;)
  assert(typeof this.html === &#x27;string&#x27; &#x26;&#x26; this.html.length, &#x22;html-pdf: Can&#x27;t create a pdf without an html string&#x22;)
  this.options.timeout = parseInt(this.options.timeout) || 30000
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.html-pdf.pdf" id="apidoc.module.html-pdf.pdf">module html-pdf.pdf</a></h1>


    <h2>
        <a href="#apidoc.element.html-pdf.pdf.pdf" id="apidoc.element.html-pdf.pdf.pdf">
        function <span class="apidocSignatureSpan">html-pdf.</span>pdf
        <span class="apidocSignatureSpan">(html, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function PDF(html, options) {
  this.html = html
  this.options = options || {}
  if (this.options.script) {
    this.script = path.normalize(this.options.script)
  } else {
    this.script = path.join(__dirname, &#x27;scripts&#x27;, &#x27;pdf_a4_portrait.js&#x27;)
  }

  if (this.options.filename) this.options.filename = path.resolve(this.options.filename)
  if (!this.options.phantomPath) this.options.phantomPath = phantomjs &#x26;&#x26; phantomjs.path
  this.options.phantomArgs = this.options.phantomArgs || []
  assert(this.options.phantomPath, &#x22;html-pdf: Failed to load PhantomJS module. You have to set the path to the PhantomJS binary
using &#x27;options.phantomPath&#x27;&#x22;)
  assert(typeof this.html === &#x27;string&#x27; &#x26;&#x26; this.html.length, &#x22;html-pdf: Can&#x27;t create a pdf without an html string&#x22;)
  this.options.timeout = parseInt(this.options.timeout) || 30000
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.html-pdf.pdf.prototype" id="apidoc.module.html-pdf.pdf.prototype">module html-pdf.pdf.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.html-pdf.pdf.prototype.exec" id="apidoc.element.html-pdf.pdf.prototype.exec">
        function <span class="apidocSignatureSpan">html-pdf.pdf.prototype.</span>exec
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function PdfExec(callback) {
  var callbacked = false
  var child = childprocess.spawn(this.options.phantomPath, [].concat(this.options.phantomArgs, [this.script]))
  var stdout = []
  var stderr = []
  var timeout = setTimeout(function execTimeout () {
    child.stdin.end()
    child.kill()
    if (!stderr.length) {
      stderr = [new Buffer(&#x27;html-pdf: PDF generation timeout. Phantom.js script did not exit.&#x27;)]
    }
  }, this.options.timeout)

  child.stdout.on(&#x27;data&#x27;, function (buffer) {
    return stdout.push(buffer)
  })

  child.stderr.on(&#x27;data&#x27;, function (buffer) {
    stderr.push(buffer)
    child.stdin.end()
    return child.kill()
  })

  function exit (err, data) {
    if (callbacked) return
    callbacked = true
    clearTimeout(timeout)
    if (err) return callback(err)
    return callback(null, data)
  }

  child.on(&#x27;error&#x27;, exit)

  child.on(&#x27;exit&#x27;, function (code) {
    if (code || stderr.length) {
      var err = new Error(Buffer.concat(stderr).toString() || &#x27;html-pdf: Unknown Error&#x27;)
      return exit(err)
    } else {
      try {
        var buff = Buffer.concat(stdout).toString()
        var data = (buff) != null ? buff.trim() : undefined
        data = JSON.parse(data)
      } catch (err) {
        return exit(err)
      }
      return exit(null, data)
    }
  })

  var res = JSON.stringify({html: this.html, options: this.options})
  return child.stdin.write(res + &#x27;\n&#x27;, &#x27;utf8&#x27;)
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
this.options.phantomArgs = this.options.phantomArgs || []
assert(this.options.phantomPath, &#x22;html-pdf: Failed to load PhantomJS module. You have to set the path to the PhantomJS binary
 using &#x27;options.phantomPath&#x27;&#x22;)
assert(typeof this.html === &#x27;string&#x27; &#x26;&#x26; this.html.length, &#x22;html-pdf: Can&#x27;t create a pdf without an
 html string&#x22;)
this.options.timeout = parseInt(this.options.timeout) || 30000
}

PDF.prototype.toBuffer = function PdfToBuffer (callback) {
this.<span class="apidocCodeKeywordSpan">exec</span>(function execPdfToBuffer (err, res) {
  if (err) return callback(err)
  fs.readFile(res.filename, function readCallback (err, buffer) {
    if (err) return callback(err)
    fs.unlink(res.filename, function unlinkPdfFile (err) {
      if (err) return callback(err)
      callback(null, buffer)
    })
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.html-pdf.pdf.prototype.toBuffer" id="apidoc.element.html-pdf.pdf.prototype.toBuffer">
        function <span class="apidocSignatureSpan">html-pdf.pdf.prototype.</span>toBuffer
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function PdfToBuffer(callback) {
  this.exec(function execPdfToBuffer (err, res) {
    if (err) return callback(err)
    fs.readFile(res.filename, function readCallback (err, buffer) {
      if (err) return callback(err)
      fs.unlink(res.filename, function unlinkPdfFile (err) {
        if (err) return callback(err)
        callback(null, buffer)
      })
    })
  })
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  console.log(res.filename);
});

pdf.create(html).toStream(function(err, stream){
  stream.pipe(fs.createWriteStream(&#x27;./foo.pdf&#x27;));
});

pdf.create(html).<span class="apidocCodeKeywordSpan">toBuffer</span>(function(err, buffer){
  console.log(&#x27;This is a buffer:&#x27;, Buffer.isBuffer(buffer));
});


// for backwards compatibility
// alias to pdf.create(html[, options]).toBuffer(callback)
pdf.create(html [, options], function(err, buffer){});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.html-pdf.pdf.prototype.toFile" id="apidoc.element.html-pdf.pdf.prototype.toFile">
        function <span class="apidocSignatureSpan">html-pdf.pdf.prototype.</span>toFile
        <span class="apidocSignatureSpan">(filename, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function PdfToFile(filename, callback) {
  assert(arguments.length &#x3e; 0, &#x27;html-pdf: The method .toFile([filename, ]callback) requires a callback.&#x27;)
  if (filename instanceof Function) {
    callback = filename
    filename = undefined
  } else {
    this.options.filename = path.resolve(filename)
  }
  this.exec(callback)
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
## Code example
```javascript
var fs = require(&#x27;fs&#x27;);
var pdf = require(&#x27;html-pdf&#x27;);
var html = fs.readFileSync(&#x27;./test/businesscard.html&#x27;, &#x27;utf8&#x27;);
var options = { format: &#x27;Letter&#x27; };

pdf.create(html, options).<span class="apidocCodeKeywordSpan">toFile</span>(&#x27;./businesscard.pdf&#x27;, function(err, res) {
  if (err) return console.log(err);
  console.log(res); // { filename: &#x27;/app/businesscard.pdf&#x27; }
});
```

## API
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.html-pdf.pdf.prototype.toStream" id="apidoc.element.html-pdf.pdf.prototype.toStream">
        function <span class="apidocSignatureSpan">html-pdf.pdf.prototype.</span>toStream
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function PdfToStream(callback) {
  this.exec(function (err, res) {
    if (err) return callback(err)
    try {
      var stream = fs.createReadStream(res.filename)
    } catch (err) {
      return callback(err)
    }

    stream.on(&#x27;end&#x27;, function () {
      fs.unlink(res.filename, function (err) {
        if (err) console.log(&#x27;html-pdf:&#x27;, err)
      })
    })

    callback(null, stream)
  })
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

```js
var pdf = require(&#x27;html-pdf&#x27;);
pdf.create(html).toFile([filepath, ]function(err, res){
  console.log(res.filename);
});

pdf.create(html).<span class="apidocCodeKeywordSpan">toStream</span>(function(err, stream){
  stream.pipe(fs.createWriteStream(&#x27;./foo.pdf&#x27;));
});

pdf.create(html).toBuffer(function(err, buffer){
  console.log(&#x27;This is a buffer:&#x27;, Buffer.isBuffer(buffer));
});
...</pre></li>
    </ul>


</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
